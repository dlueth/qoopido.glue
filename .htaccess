DirectoryIndex index.php
Options -Indexes
Options +FollowSymLinks

<IfModule mod_rewrite.c>
	RewriteEngine on
	RewriteBase /

	# protect files/directories with a leading "."
	RewriteRule ((^|\/)\..*) ./ [F,L]

	# offline caching
	AddType text/cache-manifest .manifest

	# force trailing slash
	RewriteCond %{REQUEST_URI} /+[^\.]+$
	RewriteRule ^(.+[^/])$ %{REQUEST_URI}/ [R=301,L]

	# prevent hotlinking
	# RewriteCond %{HTTP_REFERER} !^http://(.+\.)?mysite\.com/ [NC]
	# RewriteCond %{HTTP_REFERER} !^$
	# RewriteRule .*\.(jpe?g|gif|bmp|png)$ /images/nohotlink.jpg [L]

	# html5 video
	# RewriteCond %{REQUEST_FILENAME} !-f
    # RewriteCond %{REQUEST_FILENAME} !-d
    # RewriteCond %{REQUEST_URI} !=/favicon.ico
    # AddType video/ogg .ogv
    # AddType video/ogg .ogg
    # AddType video/mp4 .mp4
    # AddType video/webm .webm
    # AddType application/x-shockwave-flash swf

	# shrinkimage
    # RewriteCond %{REQUEST_FILENAME} !-f
    # RewriteRule ^(.+).shrunk$ shrinkimage.php?file=$1 [QSA,L]
    # RewriteRule ^(.+).shrunk.jsonp$ shrinkimage.php?file=$1&jsonp=1 [QSA,L]

	# set rewrite condition and rule
	RewriteCond %{REQUEST_FILENAME} !-f
	RewriteRule ^(.+[^/])$ $1/  [QSA]
	RewriteRule ^((?:.+/)+)$ index.php?Glue[node]=$1 [QSA]
</IfModule>

<IfModule mod_deflate.c>
	AddOutputFilterByType DEFLATE text/plain
	AddOutputFilterByType DEFLATE text/html
	AddOutputFilterByType DEFLATE text/xml
	AddOutputFilterByType DEFLATE text/css
	AddOutputFilterByType DEFLATE text/javascript
	AddOutputFilterByType DEFLATE application/xml
	AddOutputFilterByType DEFLATE application/xhtml+xml
	AddOutputFilterByType DEFLATE application/rss+xml
	AddOutputFilterByType DEFLATE application/json
	AddOutputFilterByType DEFLATE application/javascript
	AddOutputFilterByType DEFLATE application/x-javascript
</IfModule>

# cross domain font embedding for Firefox
#<FilesMatch "\.(ttf|otf|eot|woff)$">
#	<IfModule mod_headers.c>
#		Header set Access-Control-Allow-Origin "http://yourdomain.com"
#	</IfModule>
#</FilesMatch>